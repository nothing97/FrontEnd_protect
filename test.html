<!DOCTYPE html>
<html lang="en" class="fuelux">
  <head>
    <meta charset="utf-8">
    <title>Fuel UX Test</title>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="http://www.fuelcdn.com/fuelux/3.7.3/css/fuelux.min.css" rel="stylesheet"/>
  </head>
  <body>

    <ul id="myTree" class="tree tree-folder-select" role="tree" id="myTree">
      <li class="tree-branch hide" data-template="treebranch" role="treeitem" aria-expanded="false">
        <div class="tree-branch-header">
          <button class="glyphicon icon-caret glyphicon-play"><span class="sr-only">Open</span></button>
          <button class="tree-branch-name">
            <span class="glyphicon icon-folder glyphicon-folder-close"></span>
            <span class="tree-label"></span>
          </button>
        </div>
        <ul class="tree-branch-children" role="group"></ul>
        <div class="tree-loader" role="alert">Loading...</div>
      </li>
      <li class="tree-item hide" data-template="treeitem" role="treeitem">
        <button class="tree-item-name">
          <span class="glyphicon icon-item fueluxicon-bullet"></span>
          <span class="tree-label"></span>
        </button>
      </li>
    </ul>



    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="http://www.fuelcdn.com/fuelux/3.7.3/js/fuelux.min.js"></script>

    <script type="text/javascript">
      function staticDataSource(openedParentData, callback) {
        childNodesArray = [
          { "name": "Ascending and Descending", "type": "folder" },
          { "name": "Drawing Hands", "type": "folder" },
          { "name": "Belvedere", "type": "folder" },
          { "name": "House of Stairs", "type": "folder" }
        ];

        callback({
          data: childNodesArray
        });
      }
          </script>

          <script type="text/javascript">
            $(function() {
         $('#myTree').tree({
            dataSource: staticDataSource,
            multiSelect: false,
            folderSelect: true
          });
      });
          </script>

          <!-- api -->
          <script type="text/javascript">
            function dynamicDataSource(openedParentData, callback) {
        var childNodesArray = [];

        // call API, posting options
        $.ajax({
          'type': 'post',
          'url': '/tree/data',
          'data': openedParentData  // first call with be an empty object
        })
        .done(function(data) {
          // configure datasource
          var childObjectsArray = data;

          // pass an array with the key 'data' back to the tree
          // [ {'name': [string], 'type': [string], 'attr': [object] } ]
          callback({
            data: childNodesArray
          });

        });
      }
          </script>

          <script type="text/javascript">
            function staticDataSource(parentData, callback) {
        // includes rebeccapurple styling

        childNodesArray = [
          {
            "name": "Ascending and Descending",
            "type": "folder",
            "attr": {
              "id": "ascending-and-descending"
            }
          },

          {
            "name": "Drawing Hands",
            "type": "folder",
            "attr": {
              "id": "drawing-hands"
            }
          },
          
          {
            "name": "Belvedere",
            "type": "folder",
            "attr": {
              "id": "belvedere"
            }
          },
          
          {
            "name": "House of Stairs",
            "type": "folder",
            "attr": {
              "id": "house-of-stairs"
            }
          },
         
        ];

        callback({
          data: childNodesArray
        });
      }
          </script>

          <script type="text/javascript">
            $('#myTree').on('deselected.fu.tree selected.fu.tree', function(event) {
        // insert JSON text of selected items after tree
        $('#myTree').after('SELECTED ITEMS: ' + JSON.stringify( $('#myTree').tree('selectedItems') ) + '<br>' );
      });

      $('#myTree').on('disclosedFolder.fu.tree closed.fu.tree', function(event, parentData) {
        // insert JSON text of selected items after tree
        $('#myTree').after('OPENED/CLOSED FOLDER DATA: ' + JSON.stringify( parentData ) + ' ' );
          </script>
        </body>

</html>